<div class="container-sm">
    <div class="d-flex">
        <div class="p-2 flex-grow-1">
            <!-- Barra de búsqueda -->
            <input class="form-control" type="search" placeholder="Buscar por fecha, proveedor o jaula" aria-label="Search"
                [(ngModel)]="searchTerm" name="search" (ngModelChange)="filterReservas()" />
        </div>
        <div class="p-2">
            <!-- Botón para abrir el modal de creación -->
            <button type="button" class="btn btn-primary" (click)="createReserva()">Nueva Reserva</button>
        </div>
    </div>
</div>

<div class="container-sm">
    <!-- Tabla de reservas -->
    <table class="table table-light table-striped table-hover">
        <thead>
            <tr>
                <th>ID Turno</th>
                <th>Fecha</th>
                <th>Hora Inicio Agendamiento</th>
                <th>Hora Fin Agendamiento</th>
                <th>Proveedor</th>
                <th>Jaula</th>
                <th>Detalles</th>
                <!--th>Opciones</!--th-->
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let reserva of filteredReservas">
                <td>{{ reserva.id }}</td>
                <td>{{ reserva.cabecera.fecha }}</td>
                <td>{{ reserva.cabecera.horaInicioAgendamiento }}</td>
                <td>{{ reserva.cabecera.horaFinAgendamiento }}</td>
                <td>{{ reserva.cabecera.idProveedor }}</td>
                <td>{{ reserva.cabecera.idJaula }}</td>
                <td>
                    <ul>
                        <li *ngFor="let detalle of reserva.detalles">
                            Producto ID: {{ detalle?.idProducto }}, Cantidad: {{ detalle?.cantidad }}
                        </li>
                    </ul>
                </td>
                <!--td>
                    <button class="btn btn-primary text-center" (click)="editReserva(reserva)">Editar</button>
                    <button (click)="deleteReserva(reserva)" class="btn btn-danger text-center" style="margin-left: 10px;">Eliminar</button>
                </td-->
            </tr>
        </tbody>
    </table>
    
</div>
<!-- Modal para Crear Reserva -->

  

<!-- Modales para acciones de reserva -->
<app-reserva-create></app-reserva-create>
<!-- 
<app-reserva-edit [reserva]="reservaSeleccionada"></app-reserva-edit>
<app-reserva-delete [reserva]="reservaSeleccionada"></app-reserva-delete>

-->